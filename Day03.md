# モノ撮り　「自分が回る」vs「モノを回す」
小物をキャプチャーする方法は、大きく二つの方法に分けられます。<br>
- 被写体の周りを回りながら撮影する
- 被写体を回しながら撮影する


被写体と撮影位置の相対関係は同じなので画像の集まりだけを見ても区別がつきませんが、撮影の準備状況や被写体によっては方法の選択を誤ると失敗する確率が上がると思います。<br>
ここでは、個人的な経験の範囲で恐縮ですが、それぞれの場合で配慮してきたことをまとめました。<br>
<br><br>
## 被写体の周りを回りながら撮影する
撮影中に被写体だけでなく背景も状況確保する、つまり、シーン全体の物の位置を動かさないことが基本ですが、比較的、失敗しにくい印象があります。<br>
これはタイポイントという画像の位置関係を推定するために用いる特徴点が、被写体だけでなく背景の中にも抽出されるため、カメラの位置が推定されやすくなるためです。<br><br>
場合によっては、被写体の下に新聞紙を敷くなど、特徴点が出やすい補助的な材料を置くことも工夫の一つです。<br><br>
例として、白地の無地の花瓶をキャプチャーするとき、木目の下敷きを追加したことでモデルに割り当てられた画像の枚数が増えました。<br><br>
<img src="https://github.com/nakanomuramoto/AdventCalendar2020MJ/blob/main/images/Day3_5.png" width="600"><br><br>
<img src="https://github.com/nakanomuramoto/AdventCalendar2020MJ/blob/main/images/Day3_4.png" width="600"><br><br>
なお、Reality Captureにおけるタイポイントの抽出状態は、2Dの枠を選んでから2D ImageタブのTie Pointsにチェックを入れると、確認することができます。<br><br>
Show Matchesにチェックを入れると、画像間のタイポイントの対応状況を見ることができます。<br><br>
また、2枚目の画像を別の2Dの枠にドラッグアンドドロップしてからRay of Sightにチェックを入れ、マウスカーソルを画面内に入れるとエピポーラ線が表示され、お互いの画像中心がある方向を確認できます。<br><br>
<img src="https://github.com/nakanomuramoto/AdventCalendar2020MJ/blob/main/images/Day3_1.png" width="600"><br><br>
失敗するケースとしては、被写体が無地のテクスチャレスであったり、反射や透明が多く、そもそもスキャンしにくい被写体の場合です。<br>
<br>
ちなみに、タイポイントのような一つの画像内で抽出する特徴点の数は、AlingmentタブのSettingで設定することができます。<br><br>
down scaleを小さくしたり、maxの設定値を増やすと点数を増やせますが、計算時間が長くなるので、慣れるまでは触らない方が良いと思います。<br><br>
<img src="https://github.com/nakanomuramoto/AdventCalendar2020MJ/blob/main/images/Day3_2.png" width="600"><br><br>

## 被写体を回しながら撮影する 
カメラを三脚などで固定しながら撮影できるので手ブレを抑制できたり、作業が楽になる反面、下記の理由から比較的失敗しやすかった印象があります。<br>
- 被写体の後ろを片付けてなくて、背景に特徴点が多く抽出されてしまう
<br>背景に特徴点が多い場合、背景の復元が優先されることがあります。<br>
下の図は被写体の汁椀を回しながら、上下から撮影した画像から復元を試みた例です。<br>
背景が復元される一方、汁椀は側面が壊れて復元されました。<br>
<img src="https://github.com/nakanomuramoto/AdventCalendar2020MJ/blob/main/images/Day3_3.png" width="600"><br><br>
- ひもやチェーンなど揺れものが含まれた被写体や、ぬいぐるみのような柔らかい被写体の場合、回している最中に変形してしまい、被写体の中で位置関係が壊れてしまう
- 被写体が回転台においてある状態が不安定で、回したときに被写体が台の上で動いて台と被写体の位置関係が変わってしまう


被写体自体に特徴点が多く抽出される場合は部分的な失敗に収まることもありますが、意外とハマるポイントが多かったです。<br>
<br>
一方で、影や照明が強く当たる場所が画像ごとに変化し、テクスチャがデライトされやすく、後のテクスチャ編集時に楽になる利点はあります。<br>

## まとめ
小物をキャプチャーする方法を大きく二つの方法に分け、それぞれの特徴を説明しました。<br>
被写体の周りを周りながら撮影する方法は、比較的失敗しにくいのですが、撮影中にシーン内の物を動かさないように注意が必要だと思います。<br>
被写体を回しながら撮影する方法は、背景の片づけなど準備をする点と、変形する被写体などは失敗しやすい点に注意が必要だと思います。<br><br>

被写体を回しながら撮影する方法については、後日、試してみた工夫を紹介します。<br>
